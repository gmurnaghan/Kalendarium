<h1><%= @manuscript.name %></h1>

<p id="notice"><%= notice %></p>

<p>
  <strong>Shelfmark:</strong>
  <%= @manuscript.shelfmark %>
</p>

<p>
  <strong>Book type:</strong>
  <%= @manuscript.book_type %>
</p>

<p>
  <strong>Manuscript or print:</strong>
  <%= @manuscript.manuscript_or_print %>
</p>

<p>
  <strong>Language:</strong>
  <%= @manuscript.language %>
</p>

<p>
  <strong>Script:</strong>
  <%= @manuscript.script %>
</p>

<h3>Provenance?</h3>

<p>
  <strong>Origin:</strong>
  <%= @manuscript.origin %>
</p>

<p>
  <strong>Origin note:</strong>
  <%= @manuscript.origin_note %>
</p>

<p>
  <strong>Destination:</strong>
  <%= @manuscript.destination %>
</p>

<p>
  <strong>Destination note:</strong>
  <%= @manuscript.destination_note %>
</p>

<h3>Text block</h3>

<p>
  <strong>Height:</strong>
  <%= @manuscript.text_height %>
</p>

<p>
  <strong>Width:</strong>
  <%= @manuscript.text_width %>
</p>

<p>
  <strong>Depth:</strong>
  <%= @manuscript.text_depth %>
</p>

<h3>Writing Surface</h3>

<p>
  <strong>Height:</strong>
  <%= @manuscript.writing_surface_height %>
</p>

<p>
  <strong>Width:</strong>
  <%= @manuscript.writing_surface_width %>
</p>

<p>
  <strong>Start year:</strong>
  <%= @manuscript.start_year %>
</p>

<p>
  <strong>End year:</strong>
  <%= @manuscript.end_year %>
</p>

<p>
  <strong>Date note:</strong>
  <%= @manuscript.date_note %>
</p>

<p>
  <strong>Extent:</strong>
  <%= @manuscript.extent %>
</p>

<p>
  <strong>Provenance:</strong>
  <%= @manuscript.provenance %>
</p>

<p>
  <strong>State of completion:</strong>
  <%= @manuscript.state_of_completion %>
</p>

<p>
  <strong>Resource:</strong>
  <%= @manuscript.resource %>
</p>


<p>
  <strong>Numbering method:</strong>
  <%= @manuscript.numbering_method %>
</p>

<p>
  <strong>Calender integral?:</strong>
  <%= yes_no(@manuscript.calendar_integral) %>
</p>

<p>
  <strong>Calendar range:</strong>
  <%= "#{@manuscript.start_folio}-#{@manuscript.end_folio}" %>
</p>

<h4> Columns </h4>
<% @manuscript.columns.each_with_index do |column, index| %>
  <p>
    <strong><%= "#{index + 1}:" %></strong>
    <%= column %>
  </p>
<% end %>

<% unless @manuscript.color_weighting.blank? %>
  <h4> Color Weight </h4>
  <% @manuscript.color_weighting.keys.sort_by{ |c| @manuscript.color_weighting[c] }.each do |color| %> <!-- uhh... -->
    <p>
      <strong><%= "#{color.to_s.capitalize}:" %></strong>
      <%= @manuscript.color_weighting[color] %>
    </p>
  <% end %>
<% end %>


<p>
  <strong>Calender has shading?:</strong>
  <%= yes_no(@manuscript.has_shading) %>
</p>

<br>

<strong id="calendar_pages">Calendar Pages</strong>
<%= link_to 'New', new_manuscript_calendar_page_path(manuscript_id: @manuscript.id) %> <!-- old attempt, update? -->

<p id="notice"><%= notice %></p>


<div class="container">
  <div class="row">
    <div class="col-2">Folio</div>
    <div class="col-2">Start </div>
    <div class="col-2">End </div>
    <div class="col-6"></div>
  </div>

    <% @manuscript.calendar_pages.sort_by(&:folio_ordinal).each do |calendar_page| %>
      <div class="row">
        <div class="col"><%= calendar_page.folio %></div>
        <div class="col"><%= "#{month_name calendar_page.start_month} #{calendar_page.start_day}" %></div>
        <div class="col"><%= "#{month_name calendar_page.end_month}   #{calendar_page.end_day}" %></div>
        <div class="col"><%= link_to 'Show', calendar_page %></div>
        <div class="col"><%= link_to 'Edit', edit_calendar_page_path(calendar_page) %></div>
        <div class="col"><%= link_to 'Destroy', [@manuscript, calendar_page], method: :delete, data: { confirm: 'Are you sure?' } %></div>
      </div>
    <% end %>
</div>


<br><br>

<%= link_to 'Edit', edit_manuscript_path(@manuscript) %> |
<%= link_to 'Back', manuscripts_path %>
